#!/bin/sh

# Detecta la rama actual
branch=$(git symbolic-ref --short HEAD)

echo "ğŸ” Verificando si tu rama '$branch' estÃ¡ sincronizada con el remoto..."

# Fetch de la rama remota (sin cambiar nada)
git fetch origin $branch

# Compara si tu rama estÃ¡ detrÃ¡s
behind=$(git rev-list --left-right --count origin/$branch...$branch | awk '{print $1}')

if [ "$behind" -gt 0 ]; then
  echo "â›” Tu rama local estÃ¡ detrÃ¡s de origin/$branch."
  echo "ğŸ’¡ Hacete un: git pull origin $branch --rebase"
  exit 1
fi

echo "âœ… Todo al dÃ­a. Push permitido."
exit 0
